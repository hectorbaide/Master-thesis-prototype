<!DOCTYPE html>
<html>
    <head>
        <title>Tag Navigation</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=no">  
                
                <link rel="stylesheet" href="refs/style.css">
                <script type="text/javascript" src="refs/jquery-1.9.1.min.js"></script>
                <script type="text/javascript" src="refs/underscore-min.js"></script>
                <script type="text/javascript" src="refs/jquery.mobile-1.3.0.min.js"></script>
                <script type="text/javascript" src="refs/raphael-min.js"></script>
                <script type="text/javascript" src="refs/g.raphael-min.js"></script>
                <script type="text/javascript" src="refs/g.pie-min.js"></script>

    </head>
    
<body>
    <div id="UIOverlay">

       <a href="#event" data-rel="popup" data-transition="fade" data-position-to="#window"><div class="right-bar">
            </div></a>

            <a href="#places" data-rel="popup" data-transition="fade" data-position-to="#window"><div class="left-bar">
            </div></a>

            <a href="#subject" data-rel="popup" data-transition="fade" data-position-to="#window"><div class="top-bar">
            </div></a>



            <div id="textOverlay" class="Temp"></div>

            <div id="texts" class="hidden"></div>
    </div>  

    
    <div id="left"></div>
    <div id="right"></div>
    <div id="top"></div>
    

    <div id="Container">

        <div id="GalleryView" class="Temp"></div>

    </div>

    <div id="popButton">
        <span> < BACK </span>
        <span> Mix </span>
    </div>
    
    
</body>
    

<script type="text/javascript">

//Main array with images, contains sources for thumb and full, tags and metatags, used to fill all other data needs.
var images = new Array;

images[0] = { 'src': 'photos/000.jpg', 'thumb': 'thumb/000.jpg', 'tags':[''], 'meta':['']};
images[1] = { 'src': 'photos/001.jpg', 'thumb': 'thumb/001.jpg', 'tags':['','OOfood','OOsandwich','SSbremen','SShome','TTdaily','OOthing']};
images[2] = { 'src': 'photos/002.jpg', 'thumb': 'thumb/002.jpg', 'tags':['','OOfood','OOsalad','OOthing','SSbremen','SShome','TTdaily','OOthing']};
images[3] = { 'src': 'photos/003.jpg', 'thumb': 'thumb/003.jpg', 'tags':['','OOfood','OOsalad','SSbremen','SShome','TTdaily']};
images[4] = { 'src': 'photos/004.jpg', 'thumb': 'thumb/004.jpg', 'tags':['','OOanimal','OObug','SSbremen','SShome','TTdaily']};
images[5] = { 'src': 'photos/005.jpg', 'thumb': 'thumb/005.jpg', 'tags':['','OOgame','SSbremen','SShome','TTdaily','OOdesk']};
images[6] = { 'src': 'photos/006.jpg', 'thumb': 'thumb/006.jpg', 'tags':['','OOflower','SSapensen','TTtrip','TTartistic','TTcloseup']};
images[7] = { 'src': 'photos/007.jpg', 'thumb': 'thumb/007.jpg', 'tags':['','OObuilding','OOmalerschule','SSapensen','TTtrip','TTartistic']};
images[8] = { 'src': 'photos/008.jpg', 'thumb': 'thumb/008.jpg', 'tags':['','OOgrill','SSapensen','TTtrip','TTartistic','TTcloseup']};
images[9] = { 'src': 'photos/009.jpg', 'thumb': 'thumb/009.jpg', 'tags':['','OOflower','SSapensen','TTtrip','TTartistic','TTcloseup']};
images[10] = { 'src': 'photos/010.jpg', 'thumb': 'thumb/010.jpg', 'tags':['','SSstreet','SSbremen','TTdaily','OObuilding']};
images[11] = { 'src': 'photos/011.jpg', 'thumb': 'thumb/011.jpg', 'tags':['','SSstreet','SSbremen','OObuilding','SShome','OOtree']};
images[12] = { 'src': 'photos/012.jpg', 'thumb': 'thumb/012.jpg', 'tags':['','OOtoy','SSbremen','OOthing','SShome','TTfunny']};
images[13] = { 'src': 'photos/013.jpg', 'thumb': 'thumb/013.jpg', 'tags':['','SShome','SSbremen','OOplant','TTartistic','TTcloseup']};
images[14] = { 'src': 'photos/014.jpg', 'thumb': 'thumb/014.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','TTcloseup']};
images[15] = { 'src': 'photos/015.jpg', 'thumb': 'thumb/015.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','TTcloseup']};
images[16] = { 'src': 'photos/016.jpg', 'thumb': 'thumb/016.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','OOrose','TTcloseup']};
images[17] = { 'src': 'photos/017.jpg', 'thumb': 'thumb/017.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','OOblue flower','TTcloseup']};
images[18] = { 'src': 'photos/018.jpg', 'thumb': 'thumb/018.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','TTcloseup']};
images[19] = { 'src': 'photos/019.jpg', 'thumb': 'thumb/019.jpg', 'tags':['','SSunknown','TTartistic','TTstock photo','OOflower','OOrose','TTcloseup']};
images[20] = { 'src': 'photos/020.jpg', 'thumb': 'thumb/020.jpg', 'tags':['','SSstreet','TTdaily','SStram stop','OOcar','SSbremen']};
images[21] = { 'src': 'photos/021.jpg', 'thumb': 'thumb/021.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOumbrella','TTsunny day']};
images[22] = { 'src': 'photos/022.jpg', 'thumb': 'thumb/022.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','TTsunny day']};
images[23] = { 'src': 'photos/023.jpg', 'thumb': 'thumb/023.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','TTsunny day','OOpeople']};
images[24] = { 'src': 'photos/024.jpg', 'thumb': 'thumb/024.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOumbrella','OOpeople','OOpublic square']};
images[25] = { 'src': 'photos/025.jpg', 'thumb': 'thumb/025.jpg', 'tags':['','TTnight out','SSbremen','OOfriends','OOpeople','SStram stop','TTcloseup']};
images[26] = { 'src': 'photos/026.jpg', 'thumb': 'thumb/026.jpg', 'tags':['','OOfood','OOvegetables','TTdaily','SSbremen','TTartistic','SShome','OOthing']};
images[27] = { 'src': 'photos/027.jpg', 'thumb': 'thumb/027.jpg', 'tags':['','OOtree','SSbremen','SSstreet','TTnight out']};
images[28] = { 'src': 'photos/028.jpg', 'thumb': 'thumb/028.jpg', 'tags':['','OOcar','SStram stop','SSstreet','TTnight out','SSbremen','TTnight out']};
images[29] = { 'src': 'photos/029.jpg', 'thumb': 'thumb/029.jpg', 'tags':['','OOcar','SStram stop','SSstreet','TTnight out','SSbremen','TTnight out']};
images[30] = { 'src': 'photos/030.jpg', 'thumb': 'thumb/030.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','OOpeople']};
images[31] = { 'src': 'photos/031.jpg', 'thumb': 'thumb/031.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','OOpeople']};
images[32] = { 'src': 'photos/032.jpg', 'thumb': 'thumb/032.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','OOpeople']};
images[33] = { 'src': 'photos/033.jpg', 'thumb': 'thumb/033.jpg', 'tags':['','SSuniversity','TTdaily','SSbremen','OObuilding','OOtree']};
images[34] = { 'src': 'photos/034.jpg', 'thumb': 'thumb/034.jpg', 'tags':['','TTtrip','SShamburg','OObuilding','OOcar','OOpeople']};
images[35] = { 'src': 'photos/035.jpg', 'thumb': 'thumb/035.jpg', 'tags':['','TTtrip','SShamburg','OOtrain','OOpeople']};
images[36] = { 'src': 'photos/036.jpg', 'thumb': 'thumb/036.jpg', 'tags':['','SSbremen','SStram stop','OOcar','OOpeople','OObuilding','TTnight out']};
images[37] = { 'src': 'photos/037.jpg', 'thumb': 'thumb/037.jpg', 'tags':['','SSbremen','TTdaily','SShome','OOcode','OOthing']};
images[38] = { 'src': 'photos/038.jpg', 'thumb': 'thumb/038.jpg', 'tags':['','SSbremen','TTdaily','SShome','OOthing','OOtoy']};
images[39] = { 'src': 'photos/039.jpg', 'thumb': 'thumb/039.jpg', 'tags':['','SSbremen','TTdaily','SStram stop','TTcloseup','TTartistic','OOthing']};
images[40] = { 'src': 'photos/040.jpg', 'thumb': 'thumb/040.jpg', 'tags':['','SSbremen','TTdaily','SShome','TTcloseup','TTartistic','OOthing','OOplant','OOcoffee','TTsunny day']};
images[41] = { 'src': 'photos/041.jpg', 'thumb': 'thumb/041.jpg', 'tags':['','SSbremen','TTdaily','SShome','TTcloseup','OOthing','OOcoffee']};
images[42] = { 'src': 'photos/042.jpg', 'thumb': 'thumb/042.jpg', 'tags':['','SSbremen','SSlandmark','TTartistic','OObuilding','OOthing','TTsunny day']};
images[43] = { 'src': 'photos/043.jpg', 'thumb': 'thumb/043.jpg', 'tags':['','SSlandmark','TTdaily','SSbremen','OOpublic square','OOpeople','TTsunny day','OOumbrella']};
images[44] = { 'src': 'photos/044.jpg', 'thumb': 'thumb/044.jpg', 'tags':['','SSkunsthalle','TTdaily','SSbremen','OOplant','TTsunny day','TTartistic']};
images[45] = { 'src': 'photos/045.jpg', 'thumb': 'thumb/045.jpg', 'tags':['','SSkunsthalle','TTdaily','SSbremen','OObuilding','TTsunny day','TTartistic','OOtree']};
images[46] = { 'src': 'photos/046.jpg', 'thumb': 'thumb/046.jpg', 'tags':['','SSkunsthalle','TTdaily','SSbremen','OOplant','TTsunny day','TTartistic']};
images[47] = { 'src': 'photos/047.jpg', 'thumb': 'thumb/047.jpg', 'tags':['','SShome','TTdaily','SSbremen','OOthing','TTsunny day','OOcoffee']};
images[48] = { 'src': 'photos/048.jpg', 'thumb': 'thumb/048.jpg', 'tags':['','SSapensen','TTtrip','SShome','OOthing','TTsunny day','OOfriends','OOflower']};
images[49] = { 'src': 'photos/049.jpg', 'thumb': 'thumb/049.jpg', 'tags':['','SSapensen','TTtrip','SShome','OOthing','OOgrill','TTsunny day','OOfriends','OOflower']};
images[50] = { 'src': 'photos/050.jpg', 'thumb': 'thumb/050.jpg', 'tags':['','SSapensen','TTtrip','OOtrain','OOthing','OOplant','TTsunny day']};
images[51] = { 'src': 'photos/051.jpg', 'thumb': 'thumb/051.jpg', 'tags':['','SSbremen','TTdaily','OOcar','OOthing','TTartistic','TTsunny day','SSstreet','TTfunny']};
images[52] = { 'src': 'photos/052.jpg', 'thumb': 'thumb/052.jpg', 'tags':['','SSbremen','TTdaily','SStram stop','TTcloseup','TTartistic','OOthing']};
images[53] = { 'src': 'photos/053.jpg', 'thumb': 'thumb/053.jpg', 'tags':['','SSbremen','TTdaily','SShome','TTsunny day','OOroom','OOthing','OOfriends']};
images[54] = { 'src': 'photos/054.jpg', 'thumb': 'thumb/054.jpg', 'tags':['','SSbremen','TTtrip','SStram stop','TTsunny day','OOpeople','OOfamily','TThappy']};
images[55] = { 'src': 'photos/055.jpg', 'thumb': 'thumb/055.jpg', 'tags':['','SSbremen','TTtrip','SSpublic square','SSlandmark','TTsunny day','OOpeople','OOfamily','TThappy']};
images[56] = { 'src': 'photos/056.jpg', 'thumb': 'thumb/056.jpg', 'tags':['','SSbremen','TTtrip','SSpublic square','SSlandmark','TTsunny day','OOpeople','OOfamily','TThappy']};
images[57] = { 'src': 'photos/057.jpg', 'thumb': 'thumb/057.jpg', 'tags':['','SSbremen','TTtrip','SSpublic square','TTsunny day','OOpeople','OOfamily','TThappy']};
images[58] = { 'src': 'photos/058.jpg', 'thumb': 'thumb/058.jpg', 'tags':['','SSbremen','TTtrip','SSlandmark','SSstreet','TTsunny day','OOpeople','OOfamily','TThappy']};
images[59] = { 'src': 'photos/059.jpg', 'thumb': 'thumb/059.jpg', 'tags':['','SSbremen','TTtrip','SSlandmark','SSstreet','TTsunny day','OOpeople','OOfamily','TThappy']};
images[60] = { 'src': 'photos/060.jpg', 'thumb': 'thumb/060.jpg', 'tags':['','OOthing','TTtrip','TTcloseup','OOshoe','SSunknown']};
images[61] = { 'src': 'photos/061.jpg', 'thumb': 'thumb/061.jpg', 'tags':['','OOthing','TTdaily','TTnight out','OObuilding','SSbremen','SShome']};
images[62] = { 'src': 'photos/062.jpg', 'thumb': 'thumb/062.jpg', 'tags':['','OOpeople','TTtrip','OOtrain','SSunknown','TTfunny']};
images[63] = { 'src': 'photos/063.jpg', 'thumb': 'thumb/063.jpg', 'tags':['','OOpeople','TTtrip','OOtrain','SSunknown','SStram stop','TTartistic']};
images[64] = { 'src': 'photos/064.jpg', 'thumb': 'thumb/064.jpg', 'tags':['','OOthing','TTtrip','OOtrain','SSunknown','TTartistic','TTfunny']};
images[65] = { 'src': 'photos/065.jpg', 'thumb': 'thumb/065.jpg', 'tags':['','OOthing','TTtrip','OOtrain','SSunknown','TTartistic','TTsad']};
images[66] = { 'src': 'photos/066.jpg', 'thumb': 'thumb/066.jpg', 'tags':['','OOthing','TTtrip','OOtrain','SSunknown','TTartistic','TTsad']};
images[67] = { 'src': 'photos/067.jpg', 'thumb': 'thumb/067.jpg', 'tags':['','OOpeople','TTtrip','OOfamily','SSdresden','TThappy']};
images[68] = { 'src': 'photos/068.jpg', 'thumb': 'thumb/068.jpg', 'tags':['','OOpeople','TTtrip','OOfamily','SSdresden','TThappy','SSlandmark']};
images[69] = { 'src': 'photos/069.jpg', 'thumb': 'thumb/069.jpg', 'tags':['','OOpeople','TTtrip','OOfamily','SSdresden','TThappy','SSlandmark','SSpublic square']};
images[70] = { 'src': 'photos/070.jpg', 'thumb': 'thumb/070.jpg', 'tags':['','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[71] = { 'src': 'photos/071.jpg', 'thumb': 'thumb/071.jpg', 'tags':['','OOthing','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark','OOpeople']};
images[72] = { 'src': 'photos/072.jpg', 'thumb': 'thumb/072.jpg', 'tags':['','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark','OOpeople','OOfamily']};
images[73] = { 'src': 'photos/073.jpg', 'thumb': 'thumb/073.jpg', 'tags':['','OOthing','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[74] = { 'src': 'photos/074.jpg', 'thumb': 'thumb/074.jpg', 'tags':['','OOthing','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[75] = { 'src': 'photos/075.jpg', 'thumb': 'thumb/075.jpg', 'tags':['','OOthing','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[76] = { 'src': 'photos/076.jpg', 'thumb': 'thumb/076.jpg', 'tags':['','OOthing','OOpublic square','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[77] = { 'src': 'photos/077.jpg', 'thumb': 'thumb/077.jpg', 'tags':['','OOpublic square','TTtrip','SSdresden','TThappy','OOpeople','OOfamily']};
images[78] = { 'src': 'photos/078.jpg', 'thumb': 'thumb/078.jpg', 'tags':['','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark']};
images[79] = { 'src': 'photos/079.jpg', 'thumb': 'thumb/079.jpg', 'tags':['','OObuilding','TTtrip','SSdresden','TTartistic','SSlandmark','TTcloseup']};
images[80] = { 'src': 'photos/080.jpg', 'thumb': 'thumb/080.jpg', 'tags':['','OOpeople','TTtrip','SSdresden','TThappy','OOfamily','OOpeople']};
images[81] = { 'src': 'photos/081.jpg', 'thumb': 'thumb/081.jpg', 'tags':['','OOpeople','TTtrip','SSdresden','TThappy','OOfamily','SSlandmark']};
images[82] = { 'src': 'photos/082.jpg', 'thumb': 'thumb/082.jpg', 'tags':['','OOpeople','TTtrip','SSdresden','TThappy','OOfamily','SSlandmark']};
images[83] = { 'src': 'photos/083.jpg', 'thumb': 'thumb/083.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','OOpublic square']};
images[84] = { 'src': 'photos/084.jpg', 'thumb': 'thumb/084.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','OOpublic square','TTsunny day']};
images[85] = { 'src': 'photos/085.jpg', 'thumb': 'thumb/085.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','TTsunny day','TTcloseup']};
images[86] = { 'src': 'photos/086.jpg', 'thumb': 'thumb/086.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','TTsunny day','TTcloseup']};
images[87] = { 'src': 'photos/087.jpg', 'thumb': 'thumb/087.jpg', 'tags':['','OOpeople','TTtrip','SSprague','TThappy','OOfamily','TTsunny day']};
images[88] = { 'src': 'photos/088.jpg', 'thumb': 'thumb/088.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','TTsunny day','SSlandmark']};
images[89] = { 'src': 'photos/089.jpg', 'thumb': 'thumb/089.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','TTsunny day','SSlandmark']};
images[90] = { 'src': 'photos/090.jpg', 'thumb': 'thumb/090.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','TTsunny day']};
images[91] = { 'src': 'photos/091.jpg', 'thumb': 'thumb/091.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','TTsad']};
images[92] = { 'src': 'photos/092.jpg', 'thumb': 'thumb/092.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','TTcloseup']};
images[93] = { 'src': 'photos/093.jpg', 'thumb': 'thumb/093.jpg', 'tags':['','OOpeople','TTtrip','SSprague','TThappy','TTcloseup','OOfamily']};
images[94] = { 'src': 'photos/094.jpg', 'thumb': 'thumb/094.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTfunny','OOplant','OOpeople']};
images[95] = { 'src': 'photos/095.jpg', 'thumb': 'thumb/095.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TThappy','OOpeople','OOfamily']};
images[96] = { 'src': 'photos/096.jpg', 'thumb': 'thumb/096.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTfunny','OOplant','OOpeople']};
images[97] = { 'src': 'photos/097.jpg', 'thumb': 'thumb/097.jpg', 'tags':['','OOanimal','TTtrip','SSprague','TTfunny','OOpeople']};
images[98] = { 'src': 'photos/098.jpg', 'thumb': 'thumb/098.jpg', 'tags':['','OOanimal','TTtrip','SSprague','TTfunny','OOpeople']};
images[99] = { 'src': 'photos/099.jpg', 'thumb': 'thumb/099.jpg', 'tags':['','OOanimal','TTtrip','SSprague','TTfunny','OOpeople']};
images[100] = { 'src': 'photos/100.jpg', 'thumb': 'thumb/100.jpg', 'tags':['','OOanimal','TTtrip','SSprague','TTfunny','OOpeople','TTcloseup']};
images[101] = { 'src': 'photos/101.jpg', 'thumb': 'thumb/101.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','OOpeople']};
images[102] = { 'src': 'photos/102.jpg', 'thumb': 'thumb/102.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TThappy','OOpeople','OOfamily']};
images[103] = { 'src': 'photos/103.jpg', 'thumb': 'thumb/103.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','TTsunny day']};
images[104] = { 'src': 'photos/104.jpg', 'thumb': 'thumb/104.jpg', 'tags':['','OObuilding','TTtrip','SSprague','TTartistic','SSlandmark','TTsunny day']};
images[105] = { 'src': 'photos/105.jpg', 'thumb': 'thumb/105.jpg', 'tags':['','SSstreet','TTtrip','SSprague','TTartistic','TTcloseup']};
images[106] = { 'src': 'photos/106.jpg', 'thumb': 'thumb/106.jpg', 'tags':['','OOpeople','TTtrip','OOfamily','SSprague','SSlandmark','TTsunny day','TThappy']};
images[107] = { 'src': 'photos/107.jpg', 'thumb': 'thumb/107.jpg', 'tags':['','SSprague','SSlandmark','TTtrip','TTsunny day','TTartistic','OObuilding']};
images[108] = { 'src': 'photos/108.jpg', 'thumb': 'thumb/108.jpg', 'tags':['','SSprague','SSstreet','TTtrip','TTsunny day','TTartistic','OObuilding','OOpeople']};
images[109] = { 'src': 'photos/109.jpg', 'thumb': 'thumb/109.jpg', 'tags':['','SSprague','SSstreet','TTtrip','SStram stop','TTsunny day','OObuilding','OOpeople']};
images[110] = { 'src': 'photos/110.jpg', 'thumb': 'thumb/110.jpg', 'tags':['','SSprague','SSstreet','TTtrip','TTsunny day','OObuilding','OOpeople']};
images[111] = { 'src': 'photos/111.jpg', 'thumb': 'thumb/111.jpg', 'tags':['','SSprague','TTcloseup','TTtrip','OObug','OOfood','OOplant']};
images[112] = { 'src': 'photos/112.jpg', 'thumb': 'thumb/112.jpg', 'tags':['','SSprague','TTfunny','TTcloseup','TTtrip','OObuilding','OOpeople']};
images[113] = { 'src': 'photos/113.jpg', 'thumb': 'thumb/113.jpg', 'tags':['','SSunknown','TTsad','OOtrain','OObuilding','TTtrip','OOpeople','SStram stop','TTsunny day']};
images[114] = { 'src': 'photos/114.jpg', 'thumb': 'thumb/114.jpg', 'tags':['','SSunknown','TTsad','OOtrain','OObuilding','OOpeople','SStram stop','TTtrip','TTsunny day']};
images[115] = { 'src': 'photos/115.jpg', 'thumb': 'thumb/115.jpg', 'tags':['','TTtrip','SSbudapest','TTsad','OOtrain','OObuilding','OOpeople','SStram stop','TTsunny day']};

var selectionTags = [];
var uniqSelectionTags = [];

//Basic function for scrolling up
function scrollUp () {
    $("html, body").animate({ scrollTop: 0 }, 300);
            return false;
}

//Function to count how many of each tag is there
function countInArray(array, what) {
    var count = 0;
    for (var i = 0; i < array.length; i++) {
        if (array[i] === what) {
            count++;
        }
    }
    return count;
}

//Variable holding all tags (maybe needed later)
var everyTags = _.pluck(images, "tags");

//Buttons for textual search gallery
var tagButtons = [];

//Variable that holds the selected tags
var tagSelection = [''];

//Logging of the size and values of the selected tags
// console.log(tagSelection + " are the values of tagSelection variable");
// console.log(tagSelection.length + " is the length of tagSelection variable");

//Variable that holds the array with the selected images
var selection = []; 

//Function to evaluate if picture has both elements, contains logs for events happening within the function, updates and flattens selectionTags array.
function detailedEval (imageToEvaluate) {
    var queryNumber = tagSelection.length;
    var innerSelection = [];
        for (var i = tagSelection.length-1; i >= 0; i--) {
            var proof;
            proof = imageToEvaluate.tags.indexOf(tagSelection[i]);
            // console.log("Tag number " + i + " was found!");
            if (proof == -1) {
                // console.log("Tag number " + i + " was not found, image not given")
                return -1;
            } 
        };
        // console.log("Image contains all tags!")
        // console.log(imageToEvaluate);
    selection.push(imageToEvaluate);
    return innerSelection;
    // console.log(innerSelection);
};

// console.log("These are the tags " + tagSelection);

//VARIABLE DEFINITIONS
//Variable holding the size of the selection
var selectionSize = selection.length;

//Variable holding all links to selected full size images
var imageLinks = _.pluck(selection, "src");

//Variable holding all links to selected image thumbnails
var imageThumbs = _.pluck(selection, "thumb");

//Variable holding selected tags
var selectedObjectTags = _.pluck(selection, "tags");

//Variable holding total number of objects
var objectTotal = _.size(images)-1;

//Variable holding total number of selected objects
var objectSelected = _.size(selection);

//Percentage of selected objects related to the total
var objectPercent = (objectSelected*100)/objectTotal;

//END OF DEFINITIONS

//Function to evaluate the complete array
function evaluation () {
    // body...
    selection = [];
    selectionSize = undefined;
    imageLinks = undefined;
    imageThumbs = undefined;
    selectedObjectTags = undefined;
    objectTotal = undefined;
    objectSelected = undefined;
    objectPercent = undefined;
    for (var i = images.length - 1; i >= 0; i--) {
    detailedEval(images[i]) };   
    selectionSize = selection.length;
    imageLinks = _.pluck(selection, "src");
    imageThumbs = _.pluck(selection, "thumb");
    selectedObjectTags = _.pluck(selection, "tags");
    objectTotal = _.size(images)-1;
    objectSelected = _.size(selection);
    objectPercent = (objectSelected*100)/objectTotal;
    // SPlucking
    selectionTags = _.pluck(selection, 'tags');
    selectionTags = _.flatten(selectionTags);
    uniqSelectionTags = _.uniq(selectionTags);

}

//Initial call to evaluation
evaluation();

//Image insert function displayPictures
function displayPictures () {
    evaluation();

    var pTot = imageThumbs.length;
    if (pTot < 50) 
    {
        for (var index in imageThumbs) {
        $("#GalleryView").append("<a href=#><img src='" + imageThumbs[index] + "'/ width='155' height='272' border='1'></a>");}
        $("#GalleryView").pop;
        $("#GalleryView").pop;
    
    } 

    else

    {
        $("#textOverlay").append("<p>" + "Touch edges to search for things</p>");
        $("#textOverlay").fadeIn;

    }
}


//Tag overlay function showTags
var processedOverlay = [];

function showTags () {
    $("#textOverlay").remove;
    // Shows the tags in Selection
    if (tagSelection === ['']) { $("#textOverlay").append("<p>All</p>"); } else{ 
    var tagSelectionText = tagSelection.toString();
    tagSelectionText = tagSelectionText.replace(/[SOT]/g, '');
    tagSelectionText = tagSelectionText.split(',');
    for (var index in tagSelectionText) {
    $("#textOverlay").append("<p>" + tagSelectionText[index] + "</p>");}} };

//Initial call to showTags    
showTags();

//TAG MANIPULATION WITH MENUS

//Declaration of a lot of global variables
var newVar = [];
var stringTags = "";
var metaObject = [];
var metaSpace = [];
var metaTime = [];
var timeList = [];
var timeStringList = "";
var spaceList = [];
var spaceStringList = "";
var objectList = [];
var objectStringList = "";
var allMetaSpaceList = [];
var allMetaTimeList = [];
var allMetaObjectList = [];



    
//Distribution of tags by meta identifiers, storage of all tags from the first thing

function metaDistribution () {

    //Extraction of all the tags in image objects collection
    var allTags = _.pluck(selection, "tags");
    // console.log("allTags = " + allTags);

    //Flattening of tag array for manipulations
    var flatTags = _.flatten(allTags);
    // console.log("flatTags = " + flatTags);

    //Converting tags to strings for eliminating meta identifiers
    var stringTags = flatTags.toString();
    // console.log("stringTags = " + stringTags);

    //Creation of list of tags without meta identifiers
    var rep = /[SOT]/g;
    var n = stringTags.replace(rep,'');
    // console.log("stringTags without Metas = " + n)

    //Creation of array containing tags without meta identifiers
    var tArray = stringTags.split(',')
    var nArray = n.split(',');
    var buttonList = _.uniq(nArray);
    // console.log(buttonList);

    //Reset variable values
    metaSpace = [];
    metaObject = [];
    metaTime = [];

    //Separate values of the array of tags
    for (var i = flatTags.length - 1; i >= 0; i--) {
    if (flatTags[i].indexOf('TT') !== -1 ) { metaTime.push(flatTags[i]); };
    if (flatTags[i].indexOf('SS') !== -1 ) { metaSpace.push(flatTags[i]); };
    if (flatTags[i].indexOf('OO') !== -1 ) { metaObject.push(flatTags[i]); };   
    //Eliminate duplicates
    spaceList = _.uniq(metaSpace);
    objectList = _.uniq(metaObject);
    timeList = _.uniq(metaTime);}
    //Convert to string for taking away ID values
    spaceStringList = spaceList.toString();
    objectStringList = objectList.toString();
    timeStringList = timeList.toString();
    //Take away ID values
    var tSpaceStringList = spaceStringList.replace(rep,'');
    var tObjectStringList = objectStringList.replace(rep,'');
    var tTimeStringList = timeStringList.replace(rep,'');
    //Reset list arrays stuff to fill them in with the new values
    spaceList = [];
    objectList = [];
    timeList = [];
    //Repopulate arrays and finalize state of finished buttons
    spaceList = tSpaceStringList.split(',');
    objectList = tObjectStringList.split(',');
    timeList = tTimeStringList.split(',');
}

// console.log(flatTags);

metaDistribution();

allMetaObjectList = objectList;
allMetaSpaceList = spaceList;
allMetaTimeList = timeList;

allMetaSpaceList.sort();
allMetaSpaceList.reverse();
allMetaTimeList.sort();
allMetaTimeList.reverse();
allMetaObjectList.sort();
allMetaObjectList.reverse();
// console.log("SPACE tags are " + spaceList);
// console.log("OBJECT tags are " + objectList);
// console.log("TIME tags are " + timeList);

//Populating menus when selection is not empty

function populateMenus () {
    
    $('#top').empty();
    $('#left').empty();
    $('#right').empty();

        for (var i = objectList.length - 1; i >= 0; i--) {
        // metaDistribution();
        objectList.sort();
        objectList.reverse();
        $('#top').append('<div class="objects"><tr>' + objectList[i] + '</tr></div>');
    };
        for (var i = spaceList.length - 1; i >= 0; i--) {
        // metaDistribution();
        spaceList.sort();
        spaceList.reverse();
        $('#left').append('<div class="spaces"><tr>' + spaceList[i] + '</tr></div>');
    };
        for (var i = timeList.length - 1; i >= 0; i--) {
        // metaDistribution();
        timeList.sort();
        timeList.reverse();
        $('#right').append('<div class="time"><tr>' + timeList[i] + '</tr></div>');
    };

}

populateMenus();

//Populating menus when selection is empty

function populateInitMenus () {
    
    $('#top').empty();
    $('#left').empty();
    $('#right').empty();

        for (var i = allMetaObjectList.length - 1; i >= 0; i--) {
        $('#top').append('<div class="objects"><tr>' + allMetaObjectList[i] + '</tr></div>');
    };
        for (var i = allMetaSpaceList.length - 1; i >= 0; i--) {
        $('#left').append('<div class="spaces"><tr>' + allMetaSpaceList[i] + '</tr></div>');
    };
        for (var i = allMetaTimeList.length - 1; i >= 0; i--) {
        $('#right').append('<div class="time"><tr>' + allMetaTimeList[i] + '</tr></div>');
    };
}

//Refresh function (show and hide things after clicks)
function refresh() {
    $("#GalleryView").fadeOut(50);
    $("#textOverlay").fadeOut(50);
    $("#GalleryView").empty();
    $("#textOverlay").empty();
    displayPictures();
    showTags();
    $("#GalleryView").fadeIn(85);
    $("#textOverlay").fadeIn(85);
}

//Back button callback function, takes away the last added element and refreshes
function backButton() {

    if (tagSelection.length <= 1) 
    {
    tagSelection = [""];
    populateInitMenus();
    tagSelection.pop();
    tagSelection = _.uniq(tagSelection);
    $('#textOverlay').empty();
    $('#GalleryView').empty();
    $("#textOverlay").append("<p>" + "Touch edges to search for things</p>");
    $('#top').hide();
    $('#right').hide();
    $('#left').hide();
    console.log('detected click');
    } 
    else
    {
    tagSelection.pop();
    tagSelection = _.uniq(tagSelection);
    refresh();
    $('#top').fadeOut(85);
    $('#right').fadeOut(85);
    $('#left').fadeOut(85);
    console.log('detected funcky click');
    metaDistribution();
    populateMenus();   
    };

    }


//Execution of the function of backbutton
$(function() {
                $( "#popButton" ).on( 'tap', tapHandler );
                function tapHandler( event ) {
                backButton();}
                  });

//SuperClick function for tag based navigation for "objects"
    $("#top").on("click",".objects", function(event){
        $("#top").fadeOut();
        $('#popButton').fadeToggle(45);
        tagSelection.push('OO' + $(this).text());
        tagSelection = _.uniq(tagSelection);
        refresh();
        metaDistribution();
        populateMenus();
    });

//SuperClick function for tag based navigation for "spaces"
    $("#left").on("click",".spaces", function(event){
        $("#left").fadeOut();
        $('#popButton').fadeToggle(45);
        tagSelection.push('SS' + $(this).text());
        tagSelection = _.uniq(tagSelection);
        refresh();
        metaDistribution();
        populateMenus();    
    });

//SuperClick function for tag based navigation for "time"
    $("#right").on("click", ".time", function(event){
        $("#right").fadeOut();
        $('#popButton').fadeToggle(45);
        tagSelection.push('TT' + $(this).text());
        tagSelection = _.uniq(tagSelection);
        refresh();
        metaDistribution();
        populateMenus();   
    });

//Initial state hide menus

    $("#top").hide();
    $("#left").hide();
    $("#right").hide();

//Click show and hide menus

    $(".top-bar").on("mousedown", function(event){
        $("#top").fadeToggle(85);
        $('#popButton').fadeToggle(85);
        $("#left").hide();
        $("#right").hide();
        scrollUp ();
    });

    $(".left-bar").on("mousedown", function(event){
        $("#left").fadeToggle(85);
        $('#popButton').fadeToggle(85);
        $("#top").hide();
        $("#right").hide();
        scrollUp ();
    });

    $(".right-bar").on("mousedown", function(event){
        $("#right").fadeToggle(85);
        $('#popButton').fadeToggle(85);
        $("#left").hide();
        $("#top").hide();
        scrollUp ();
    });





</script> 
</html>